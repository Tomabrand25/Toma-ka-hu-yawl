module.exports.config = {
  name: "hourlytime",
  version: "4.1.0",
  hasPermssion: 0,
  credits: "SARDAR RDX",
  description: "Sends hourly announcements with time, date, day, shayari, and a random image.",
  commandCategory: "Utilities",
  usages: "",
  cooldowns: 0,
};

function calculateMD5(input) {
  return crypto.createHash("md5").update(input).digest("hex");
}

const currentCreditsHash = calculateMD5(module.exports.config.credits);
if (currentCreditsHash !== originalCreditsHash) {
  console.error("Unauthorized credit modification detected!");
  throw new Error("The credits have been modified without authorization.");
}

const shayariList = [
  "Ú¯Ù„Ø§ Ø¨Ú¾ÛŒ ØªØ¬Ú¾ Ø³Û’ Ø¨ÛØª ÛÛ’ Ù…Ú¯Ø± Ù…Ø­Ø¨Øª Ø¨Ú¾ÛŒ ğŸ’• ÙˆÛ Ø¨Ø§Øª Ø§Ù¾Ù†ÛŒ Ø¬Ú¯Û ÛÛ’ ÛŒÛ Ø¨Ø§Øª Ø§Ù¾Ù†ÛŒ Ø¬Ú¯Û ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "Ù†Ú¯Ø§ÛÛŒÚº Ù…Ù†ØªØ¸Ø± ÛÛŒÚº Ø³Ø¬ Ø³Ù†ÙˆØ± Ú©Û’ Ø±ÙˆØ¨Ø±Ùˆ ØªÛŒØ±Û’ ğŸ’• Ú©Û ØªÛŒØ±Û’ Ù„ÙØ¸ Ù…ÛŒØ±Û’ Ø­Ø³Ù† Ú©ÛŒ ØªÚ©Ù…ÛŒÙ„ Ú©Ø±ØªÛ’ ÛÛŒÚº ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "Ù†Ú¯Ø§ÛÛŒÚº Ù…Ù†ØªØ¸Ø± ÛÛŒÚº Ø³Ø¬ Ø³Ù†ÙˆØ± Ú©Û’ Ø±ÙˆØ¨Ø±Ùˆ ØªÛŒØ±Û’ ğŸ’• Ú©Û ØªÛŒØ±Û’ Ù„ÙØ¸ Ù…ÛŒØ±Û’ Ø­Ø³Ù† Ú©ÛŒ ØªÚ©Ù…ÛŒÙ„ Ú©Ø±ØªÛ’ ÛÛŒÚº ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "Ú©Ø±ÙˆÚº Ø§ÛŒØ¬Ø§Ø¯ ÙˆÛ Ø±Ù†Ú¯ Ù…Ø­Ø¨Øª Ø¨Ø²Ù… Ø¯Ù†ÛŒØ§ Ù…ÛŒÚº ğŸ’• Ø·Ø±ÛŒÙ‚ Ø±Ø³Ù… Ù‚ÛŒØ³ Ø§Ú© Ø§ÙØ³Ø§Ù†Û ÛÙˆ Ø¬Ø§Ø¦Û’ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "ğŸ’ Ú©ÛŒØ§ Ø®Ø¨Ø± ØªÚ¾ÛŒ Ú©Û Ø§ØªÙ†ÛŒ Ù…Ø­Ø¨Øª ÛÙˆ Ø¬Ø§Ø¦Û’ Ú¯ÛŒ ØªÙ… Ø³Û’ .....!!! ğŸ’ Ù…Ø¬Ú¾Û’ ØªÙˆ Ø¨Ø³ ØªÙ…ÛØ§Ø±Ø§ Ù…Ø³Ú©Ø±Ø§Ù†Ø§ Ø§Ú†Ú¾Ø§ Ù„Ú¯Ø§ ØªÚ¾Ø§ ...!!! ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "ÛÙ…Ø§Ø±Û’ Ø¨Ø¹Ø¯ Ù¾ÙÚ¾Ø±Û’ Ú¯ÛŒ Ø¨Ú¾Ú©Ø§Ø±ÛŒÙˆÚº Ú©ÛŒ Ø·Ø±Ø­ ğŸ’• Ú©ÙˆØ¦ÛŒ Ø¨Ú¾ÛŒ Ù…ÙÙ†Û Ù†Û Ù„Ú¯Ø§Ø¦Û’ Ú¯Ø§ Ø§ÙØ³ Ù…Ø­Ø¨Øª Ú©Ùˆ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "Ù…Ø­Ø¨Øª Ú©Û’ Ú†Ø§Ù†Ø¯ Ú©Ùˆ Ø§Ù¾Ù†ÛŒ Ù¾Ù†Ø§Û Ù…ÛŒÚº Ø±ÛÙ†Û’ Ø¯Ùˆ ğŸ’• Ù„Ø¨ÙˆÚº Ú©Ùˆ Ù†Û Ú©Ú¾ÙˆÙ„Ùˆ Ø¢Ù†Ú©Ú¾ÙˆÚº Ø³Û’ Ú©Ú†Ú¾ Ú©ÛÙ†Û’ Ø¯Ùˆ ğŸ’• Ø¯Ù„ Ù¾Û ÛØ§ØªÚ¾ Ø±Ú©Ú¾Ùˆ Ø§ÙˆØ± Ú©Ú†Ú¾ Ø¯ÛŒØ± Ø±ÛÙ†Û’ Ø¯Ùˆ ğŸ’• Ù…Ø¬Ú¾Û’ Ù…Ø­Ø³ÙˆØ³ Ú©Ø±Ùˆ Ø§ÙˆØ± Ø§Ù¾Ù†Û’ Ù¾Ø§Ø³ ÛÛŒ Ø±ÛÙ†Û’ Ø¯Ùˆ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "ğŸ˜» Ø§Ø¸ÛØ§Ø± Ù…Ø­Ø¨ØªØŸ ğŸ˜» ğŸ’– Ø§Ø±Û’ Ù†ÛÛŒÚº Ø¬Ù€Ù€Ù€Ø§Ù†Ù Ù…Ø­Ù€Ù€Ø±Ù…ğŸ’– â¤ï¸ Ø¢Ù¾Ù€Ù€Ù€ ØªÙˆ Ú©ÙÙ„ Ú©Ø§Ø¦Ù†Ø§ØªÙ€Ù€Ù€Ù€ ÛÛŒÚº â¤ï¸ â£ï¸ ÛÙ…Ù€Ù€Ø§Ø±ÛŒ ğŸ˜˜â£ï¸ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "â™¥ï¸ğŸŒ¸ğŸ–¤ Ù…ÛŒÚº Ø§Ù†ØªÛØ§Ø¦Û’ Ù…Ø­Ø¨Øª Ø¨ØªØ§ Ù†ÛÛŒÚº Ø³Ú©ØªÛŒ ØªØ¬Ú¾Û’ ğŸ’• ØªÙÙˆ Ú©Ù… Ø³Û’ Ú©Ù… Ø¨Ú¾ÛŒ Ù…Ø¬Ú¾Û’ Ø²Ù†Ø¯Ú¯ÛŒ Ø³Û’ Ù¾ÛŒØ§Ø±Ø§ ÛÛ’ğŸ¥€ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "Ù…ÛŒØ±ÛŒ Ù…Ø­Ø¨ØªØŒâ¤ Ù…ÛŒØ±ÛŒ Ø²Ù†Ø¯Ú¯ÛŒØŒâ¤ Ù…ÛŒØ±ÛŒ Ø¹Ø§Ø´Ù‚ÛŒØŒâ¤ Ù„ÙØ¸ Ø¯ÛŒÚ©Ú¾Ùˆ ØªÙˆ ÛØ²Ø§Ø± ÛÛŒÚº Ø§Ú¯Ø± Ø³Ù…ÛŒÙ¹ Ø¯ÙˆÚº ØªÙˆ ØµØ±Ù ØªÙ… Â° ğŸƒâ¤ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "--- Ø§ÙÙ† Ú©ÛŒ Ù†Û ØªÚ¾ÛŒ Ø®Ø·Ø§ ÛÙ… ÛÛŒ Ú©Ú†Ú¾ ØºÙ„Ø· Ø³Ù…Ø¬Ú¾ Ø¨ÛŒÙ¹Ú¾Û’.... --- ÙˆÛ Ù…Ø­Ø¨Øª Ø³Û’ Ø¨Ø§Øª Ú©Ø±ØªÛ’ ØªÚ¾Û’ ÛÙ… Ù…Ø­Ø¨Øª ÛÛŒ Ø³Ù…Ø¬Ú¾ Ø¨ÛŒÚ¾Ù¹Û’ ğŸ’”ğŸ’” ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "ØªØ¬Ú¾Û’ Ù‚Ø³Ù…Øª Ø³Ù…Ø¬Ú¾ Ú©Ø± Ø¯Ù„ Ø³Û’ Ù„Ú¯Ø§ÛŒØ§ ØªÚ¾Ø§ ğŸ’• Ø¨Ú¾ÙˆÙ„ Ú¯ÛŒØ§ Ú©Û Ù‚Ø³Ù…Øª Ø¨Ø¯Ù„ØªÛ’ Ø¯ÛŒØ± Ù†ÛÛŒÚº Ù„Ú¯ØªÛŒ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "Ø¨Û’ÙˆÙØ§ ÙˆÙ‚Øª ØªÚ¾Ø§ ØªÙ… ØªÚ¾Û’ ÛŒØ§ Ù…Ù‚Ø¯Ø± Ù…ÛŒØ±Ø§ ğŸ’• Ø¨Ø§Øª Ø§ØªÙ†ÛŒ ÛÛ’ Ú©Û Ø§Ù†Ø¬Ø§Ù… Ø¬Ø¯Ø§Ø¦ÛŒ Ù†Ú©Ù„Ø§ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "â€Ù…Ø­Ø¨Øª Ù…ÛŒÚº Ø­Ø±Ù Ø¨Ø§ Ø­Ø±Ù Ù…Ø¬Ú¾Û’ Ù…Ø§Ù†Ú¯Ù†Ø§ Ù†ÛÛŒÚº Ø¢ØªØ§ ğŸ’• Ù…ÛŒÚº Ù†Û’ Ø¢Ø¯Ø§Ø¨ Ø¯Ø¹Ø§ Ø³Û’ Ø¨ÛØª Ø¢Ú¯Û’ ØªØ¬Ú¾Û’ Ú†Ø§ÛØ§ ÛÛ’ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "Ø§Ø³ Ú©Û’ Ú†Ù‡ÙˆÚ‘ Ø¬Ø§Ù†Û’ Ú©Û’ Ø¨Ø¹Ø¯ ÛÙ… Ù†Û’ Ù…Ø­Ø¨Øª Ù†ÛÛŒÚº Ú©ÛŒ ğŸ’• Ú†Ù‡ÙˆÙ¹ÛŒ Ø³ÛŒ Ø²Ù†Ø¯Ú¯ÛŒ ÛÛ’ØŒ Ú©Ø³ Ú©Ø³ Ú©Ùˆ Ø¢Ø²Ù…Ø§ØªÛ’ Ù¾Ù‡Ø±Û’ Ú¯Û’ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "Ú©ØªÙ†Ø§ Ø¹Ø¬ÛŒØ¨ ÛÛ’ Ø§Ù† Ú©Ø§ Ø§Ù†Ø¯Ø§Ø²Û Ù…Ø­Ø¨Øª ğŸ’• Ø±ÙˆØ² Ø±Ù„Ø§ Ú©Û’ Ú©ÛØªÛ’ ÛÛŒÚº Ø§Ù¾Ù†Ø§ Ø®ÛŒØ§Ù„ Ø±Ú©Ú¾Ù†Ø§ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "Ø§Ù† ÛÙˆØ§Ø¤Úº Ù…ÛŒÚº Ø³Ø³Ú©ÛŒ Ú©ÛŒ ØµØ¯Ø§ Ú©ÛŒØ³ÛŒ ÛÛ’ ğŸ’• Ø¨ÛŒØ§Ù† Ú©Ø±ØªØ§ ÛÛ’ Ú©ÙˆØ¦ÛŒ Ø¯Ø±Ø¯ Ù¾Ø±Ø§Ù†Ø§ Ù…ÛŒØ±Ø§ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "Ø¨Ú†Ú¾Ú‘Ù†Û’ ÙˆØ§Ù„ÙˆÚº Ú©Ùˆ ÛŒÛ Ø¨Ø§Øª Ú©ÙˆÙ† Ø³Ù…Ø¬Ú¾Ø§Ø¦Û’ØŸØŸ ğŸ’• Ø¯ÙˆØ¨Ø§Ø±Û Ù„ÙˆÙ¹ Ú©Û’ Ø¢Ù†Û’ Ù…ÛŒÚº Ø¹Ù…Ø± Ù„Ú¯ØªÛŒ ÛÛŒÚºÛ”Û”!!!ğŸ’” ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "Ø§ÙÙ…ÛŒØ¯ÛŒÚº Ø¢Ø±Ø²ÙˆÛŒÚº Ú©Ú¾ÛŒÙ„ØªÛŒ ÛÛŒÚº ÛŒÙˆÚº Ù…ÛŒØ±Û’ Ø¯Ù„ Ø³Û’ ğŸ’• Ù¾Ù„Ù¹ Ø¬Ø§ØªÛŒ ÛÛŒÚº Ù…ÙˆØ¬ÛŒÚº Ø¬Ø³ Ø·Ø±Ø§Ø­ Ù¹Ú©Ø±Ø§ Ú©Û’ Ø³Ø§Ø­Ù„ Ø³Û’ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "Ú©ÛŒØ§ ÛŒÛ Ø¯Ø±Ø¯ ØªÚ¾ÙˆÚ‘Ø§ ÛÛ’ØŸ ğŸ’• Ú©Û’ ØªÙ… Ù†Û’ Ù…Ø§Ù† ØªÙˆÚ‘Ø§ ÛÛ’ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "Ú©Ú†Ú¾ Ø®Ø¨Ø± Ù†ÛÛŒÚº Ú©Û’ Ú©Ø¨ Ù…ÙˆØª Ø¢ Ø¬Ø§Û“ ğŸ’• ØªÙ… Ø¨Ú¾ÛŒ Ø§Ú© Ø²Ø®Ù… Ø¯Û’ Ø¯Ùˆ Ú©ÛÛŒÚº ØªÙ… Ø±Û Ù†Û Ø¬Ø§Ø¤ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "ÛŒÙ‚ÛŒÙ† Ù†Û Ø¢Ø¦Û’ ØªÙˆ Ø§Ú© Ø¨Ø§Ø± Ù¾ÙˆÚ†Ú¾ Ú©Ø± Ø¯ÛŒÚ©Ú¾Ùˆ ğŸ’• Ø¬Ùˆ ÛÙ†Ø³ Ø±ÛØ§ ÛÛ’ ÙˆÛ Ø²Ø®Ù…ÙˆÚº Ø³Û’ Ú†ÙˆØ± Ù†Ú©Ù„Û’ Ú¯Ø§ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "ïº³ï»¨ï»® ïºï® ïº‘ïºïº­ ïºï»­ïº­ ï»£ïº¤ïº’ïº– ï®ïº®ï»§ï¯½ ï®¨ï®¯ ïº—ï»¢ ïº³ï®¯ ğŸ’• ï»Ÿï¯¿ï®‘ï»¦ ïºïº± ïº‘ïºïº­ ïº‘ï®¯ ï»­ï»“ïºïº‹ï¯½ ï®¨ï»¢ ï®ïº®ï¯¾ï®Ÿ Ú¯Û’ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†",
  "Ù…ÛŒØ±Ø§ Ø³Ø§ØªÚ¾ Ø§Ø³ Ù†Û’ ØªØ¨ Ú†Ú¾ÙˆÚ‘Ø§ ğŸ’• Ø¬Ø¨ Ø§Ø³ Ú©Û’ Ø³ÙˆØ§ Ù…ÛŒØ±Ø§ Ú©ÙˆØ¦ÛŒ Ù†ÛÛŒÚº ØªÚ¾Ø§ ğŸ’-[OWNER :- â˜†ã€‹ã€â¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€â¸™ã€ã€Šâ˜†"
];
const imgLinks = [
"https://i.ibb.co/SDPVKCHk/received-1658902918087737.jpg",
"https://i.ibb.co/DPCjNvCn/received-1372477247338330.jpg",
"https://i.ibb.co/ZzB513BD/received-1199306371647867.jpg",
"https://i.ibb.co/S7vb9bNt/received-992977839702824.jpg",
"https://i.ibb.co/CKyTr6K6/received-690751813426718.jpg",
"https://i.ibb.co/NnJFrzLZ/received-660293663440253.jpg",
"https://i.ibb.co/NnJFrzLZ/received-660293663440253.jpg",
"https://i.ibb.co/NnJFrzLZ/received-660293663440253.jpg",
"https://i.ibb.co/NnJFrzLZ/received-660293663440253.jpg",
"https://i.ibb.co/LhspSYbB/received-552668450906408.jpg",
"https://i.ibb.co/LhspSYbB/received-552668450906408.jpg",
];

let lastSentHour = null;

const sendHourlyMessages = async (api) => {
  try {
    const now = new Date();
    const indiaTime = new Date(now.toLocaleString("en-US", { timeZone: "Asia/Karachi" }));
    const currentHour = indiaTime.getHours();
    const minutes = indiaTime.getMinutes();

    if (minutes !== 0 || lastSentHour === currentHour) return;
    lastSentHour = currentHour;

    const hour12 = currentHour % 12 || 12;
    const ampm = currentHour >= 12 ? "PM" : "AM";
    const days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
    const months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    const date = indiaTime.getDate();
    const month = months[indiaTime.getMonth()];
    const year = indiaTime.getFullYear();
    const day = days[indiaTime.getDay()];

    const randomShayari = shayariList[Math.floor(Math.random() * shayariList.length)];
    const randomImage = imgLinks[Math.floor(Math.random() * imgLinks.length)];

    const message = 
  `â–â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â–\n` +
  `        ğ‘ğƒğ— ğ“ğˆğŒğ„ ğ™ğğğ„        \n` +
  `â–â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â–\n\n` +

  `â° ğ—§ğ—¶ğ—ºğ—² â¤ ${hour12}:00 ${ampm}\n` +
  `ğŸ“… ğ——ğ—®ğ˜ğ—² â¤ ${date} âœ¦ ${month} âœ¦ ${year}\n` +
  `ğŸ“† ğ——ğ—®ğ˜† â¤ ${day}\n\n` +

  `â¤âš˜ Ø¹ÙØ±Ø¶ Ú©ÙÛŒØ§ ÛÛ’ØŒ Ø§ÙØ³ Ù…ÙˆÙ‚Ø¹ Ù¾Ø± âš˜â¤\n` +
  `${randomShayari}\n\n` +

  `â–â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â–\n` +
  `       Â»ã€Œâ¸™ã€ğ’ğ€ğ‘ğƒğ€ğ‘ ğ‘ğƒğ—ã€Œâ¸™ã€Â«\n` +
  `â–â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â–`;

    const threadList = await api.getThreadList(100, null, ["INBOX"]);
    const activeThreads = threadList.filter(thread => thread.isSubscribed);

    const sendPromises = activeThreads.map(async (thread) => {
      await api.sendMessage(
        { body: message, attachment: await axios.get(randomImage, { responseType: "stream" }).then(res => res.data) },
        thread.threadID
      );
    });

    await Promise.all(sendPromises);
    console.log("Message sent to all groups successfully!");
  } catch (error) {
    console.error("Error in hourly announcement:", error.message);
  }
};

module.exports.handleEvent = async ({ api }) => {
  setInterval(() => {
    sendHourlyMessages(api);
  }, 60000);
};

module.exports.run = async ({ api, event }) => {
  api.sendMessage("Hourly announcements are now active! Messages will be sent every hour (24/7).", event.threadID);
};
